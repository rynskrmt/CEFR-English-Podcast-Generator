# CEFR English Podcast Generator
## 概要
### 背景

グローバル化が進む現代社会において、英語コミュニケーション能力の重要性はますます高まっています。特に自己学習者や語学教師にとって、自分自身や生徒が関心を持ち、かつ自身の英語レベルに最適な音声教材を見つけることは容易ではありません。

一般的な英語教材は広く利用可能ですが、多くは固定化された内容であり、学習者個々の興味関心や具体的なニーズに応じたカスタマイズが難しいという課題がありました。また、CEFR（欧州言語共通参照枠）に準拠し、かつ適切な難易度を維持した音声教材の作成には多くの手間がかかります。

こうした背景を踏まえ、このアプリケーションはOpenAIのTTS APIを利用し、ユーザーが自由にトピックや難易度を指定することで、自分の関心と英語レベルに最適化された英会話コンテンツを手軽に生成・音声化できるよう設計されました。これにより、多様なニーズに対応する高品質な英語教材を効率的に提供し、英語学習をより効果的に支援することを目的としています。


### 主な機能
このアプリケーションは、以下の機能を提供します：

- 指定したトピックとCEFRレベル（A1〜C2）に合わせた英会話コンテンツの生成
- 生成された会話の音声ファイル（MP3）への変換
- 会話のテキストトランスクリプトの提供
- API利用料金の計算と表示

## インストール方法

```bash
# リポジトリをクローン
git clone https://github.com/rynskrmt/CEFR-English-Podcast-Generator.git
cd cefr-english-podcast-generator

# 必要なパッケージをインストール
pip install -r requirements.txt

```

## 必要な環境変数

`.env`ファイルを作成し、以下の変数を設定してください：

```
OPENAI_API_KEY=your_openai_api_key_here
TEXT_MODEL=gpt-4o
AUDIO_MODEL=tts-1
SPEAKER_1_VOICE=alloy
SPEAKER_2_VOICE=echo
SPEAKER_1_NAME=Speaker 1
SPEAKER_2_NAME=Speaker 2
```

## 使用方法

```bash
python main.py
```

ブラウザで自動的に開かれるGradioインターフェースから、以下の情報を入力してください：

1. **トピック**: 会話のテーマ（例：Indie Hacking、Climate Change、Food Cultureなど）
2. **追加情報（オプション）**: 会話に含めたい特定の情報や指示
3. **CEFRレベル**: 英語の難易度（A1、A2、B1、B2、C1、C2）
4. **単語数**: 生成する会話の長さ（100〜1000単語）

「Submit」ボタンをクリックすると、以下の出力が得られます：
- 生成された会話のテキスト
- 会話の音声ファイル（再生可能）
- API利用料金の概算

## 機能の詳細

- **CEFRレベル対応**: 欧州言語共通参照枠（CEFR）のA1（初心者）からC2（熟練者）までの6段階に対応
- **カスタマイズ可能**: 単語数や追加情報を指定して会話内容をカスタマイズ可能
- **音声変換**: 異なる話者の声で会話を再現（デフォルトではalloyとecho）
- **コスト計算**: OpenAI APIの利用料金を自動計算し表示

## トラブルシューティング

音声生成に問題が発生した場合：
- `logs/`ディレクトリにエラーログが保存されます
- APIキーが正しく設定されているか確認してください

## 料金について

このアプリケーションはOpenAIのAPIを使用しており、使用量に応じて料金が発生します：
- テキスト生成: GPT-4モデルによる会話作成
- 音声生成: TTSモデルによる音声合成

料金の詳細は出力画面に表示されます（日本円換算を含む）。

## ライセンス
Apache-2.0 License

## Contribution
バグ報告や機能改善の提案は、GitHubのIssueやPull Requestを通じてお願いします。
